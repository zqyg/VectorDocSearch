<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Document Search{% endblock %}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/styles.css') }}" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            200: '#bfdbfe',
                            300: '#93c5fd',
                            400: '#60a5fa',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                            800: '#1e40af',
                            900: '#1e3a8a'
                        }
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-out',
                        'slide-up': 'slideUp 0.5s ease-out'
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' }
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' }
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gradient-to-br from-gray-50 to-gray-100 min-h-screen flex flex-col">
    <!-- Navigation -->
    <nav class="bg-white/95 shadow-lg border-b sticky top-0 z-50 backdrop-blur-md transition-all duration-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-[70px] items-center">
                <!-- Logo and Brand -->
                <a href="/" class="flex items-center space-x-3 group">
                    <div class="bg-gradient-to-br from-primary-50 to-primary-100 rounded-xl p-2 transition-all duration-300 group-hover:shadow-md group-hover:shadow-primary-200/50 group-hover:scale-105">
                        <img src="{{ url_for('static', filename='logo4.png') }}" alt="Logo" class="h-10 w-10">
                    </div>
                    <div class="flex flex-col">
                        <span class="font-extrabold text-xl bg-gradient-to-r from-primary-600 to-primary-800 bg-clip-text text-transparent group-hover:from-primary-500 group-hover:to-primary-700 transition-all duration-300">
                            MIZA AI
                        </span>
                        <span class="text-xs text-gray-500 font-medium">Document Search & AI</span>
                    </div>
                </a>
                <!-- Navigation Links -->
                <div class="flex items-center space-x-4">
                    <a href="{{ url_for('upload') }}"
                       class="relative group px-5 py-2.5 rounded-lg transition-all duration-200 overflow-hidden
                       {% if request.endpoint == 'upload' %}
                       bg-primary-600 text-white shadow-lg shadow-primary-500/30
                       {% else %}
                       hover:text-primary-600
                       {% endif %}">
                        <span class="relative z-10 flex items-center gap-2">
                            <i class="fas fa-upload text-lg"></i>
                            <span class="font-medium">Upload</span>
                        </span>
                        {% if request.endpoint != 'upload' %}
                        <div class="absolute inset-0 bg-primary-50 scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-200"></div>
                        {% endif %}
                    </a>
                    <a href="{{ url_for('search') }}"
                       class="relative group px-5 py-2.5 rounded-lg transition-all duration-200 overflow-hidden
                       {% if request.endpoint == 'search' %}
                       bg-primary-600 text-white shadow-lg shadow-primary-500/30
                       {% else %}
                       hover:text-primary-600
                       {% endif %}">
                        <span class="relative z-10 flex items-center gap-2">
                            <i class="fas fa-search text-lg"></i>
                            <span class="font-medium">Search</span>
                        </span>
                        {% if request.endpoint != 'search' %}
                        <div class="absolute inset-0 bg-primary-50 scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-200"></div>
                        {% endif %}
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Flash Messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4 fixed top-20 right-4 z-50">
                {% for category, message in messages %}
                    <div class="flash-message flash-{{ category }} animate-fade-in shadow-lg rounded-lg">
                        <div class="flex items-center">
                            {% if category == 'success' %}
                                <i class="fas fa-check-circle mr-2"></i>
                            {% elif category == 'error' %}
                                <i class="fas fa-exclamation-circle mr-2"></i>
                            {% elif category == 'warning' %}
                                <i class="fas fa-exclamation-triangle mr-2"></i>
                            {% else %}
                                <i class="fas fa-info-circle mr-2"></i>
                            {% endif %}
                            <span>{{ message }}</span>
                        </div>
                        <button onclick="this.parentElement.style.display='none'" class="ml-auto">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    <!-- Main Content -->
    <main class="flex-grow max-w-7xl w-full mx-auto px-4 sm:px-6 lg:px-8 py-8 animate-slide-up">
        {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer class="bg-white/90 border-t mt-auto backdrop-blur-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
            <div class="text-center text-gray-600 text-sm">
                <p class="flex items-center justify-center gap-2">
                    <span>&copy; 2024 Document Search.</span>
                    <span class="text-primary-600">Powered by Pinecone Vector Database</span>
                </p>
            </div>
        </div>
    </footer>
</body>
</html>
